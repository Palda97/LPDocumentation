# Analysis

## Terms

- Managing: Adding, editing, deleting
- Pipeline: A set of tasks defined in ETL LinkedPipes server instance
- Server instance: [ETL LinkedPipes](https://etl.linkedpipes.com/) server instance
- User: Common user of the android application
- History: History of pipeline executions

## Requirements

### High level functional

1. Pipeline managing
2. Executing pipelines
3. Pipeline history
4. Managing server instances

### Functional

| Code  | Shortcut                          | Requirement                                                                                                                                     | Priority | Dependency   | Notes                                                              | UC               |
|-------|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|:--------:|--------------|--------------------------------------------------------------------|------------------|
| F-1.0 | Settings screen                   | Application must have a separate screen for settings.                                                                                           |   Must   |              |                                                                    | UC-3, UC-4, UC-5 |
| F-2.1 | View server instance              | List of server instances will be visible from settings screen.                                                                                  |   Must   | F-1.0        |                                                                    | UC-3, UC-5       |
| F-2.2 | Add server instance               | User must be able to add server instance.                                                                                                       |   Must   | F-1.0        |                                                                    | UC-4             |
| F-2.3 | Edit server instance              | User must be able to edit already added server instance.                                                                                        |   Must   | F-2.1        |                                                                    | UC-3             |
| F-2.4 | Delete server instance            | User must be able to delete already added server instance. Confirmation will be required.                                                       |   Must   | F-2.1        |                                                                    | UC-5             |
| F-3.1 | Notification after finish         | Application shell create notification on pipeline finish.                                                                                       |   Could  |              |                                                                    |                  |
| F-3.2 | Notifications in settings         | There will be switch in settings to toggle notifications.                                                                                       |   Could  | F-1.0, F-3.1 |                                                                    |                  |
| F-4.0 | Pipeline list screen              | Application must have a separate screen for working with pipelines.                                                                             |   Must   |              | Which pipelines will be visible there depends on F-4.7.            | UC-2, UC-6, UC-7 |
| F-4.1 | View pipelines                    | List of pipelines will be visible from pipeline list screen.                                                                                    |   Must   | F-4.7        | Which pipelines will be visible depends on F-4.7.                  | UC-2, UC-7       |
| F-4.2 | Edit pipeline screen              | Application must have a screen for editing pipelines.                                                                                           |   Must   |              |                                                                    | UC-6, UC-7       |
| F-4.3 | Create pipelines                  | User must be able to start an empty edit pipeline activity (F-4.2) from the pipeline list screen (F-4.0).                                       |   Must   | F-4.0, F-4.2 |                                                                    | UC-6             |
| F-4.4 | Edit existing pipelines           | User must be able to edit selected pipeline by starting the edit pipeline activity (F-4.2) with the selected activity loaded.                   |   Must   | F-4.1, F-4.2 |                                                                    | UC-7             |
| F-4.5 | Delete pipelines                  | User must be able to delete a pipeline of his choice.                                                                                           |   Must   | F-4.1        |                                                                    |                  |
| F-4.6 | Execute pipeline                  | User must be able to execute selected pipeline.                                                                                                 |   Must   | F-4.1        |                                                                    | UC-2             |
| F-4.7 | Source for visible pipelines      | User must be able to choose, if he wants to see pipelines from all instances, or just a specific one.                                           |   Must   | F-4.0        |                                                                    | UC-2, UC-6, UC-7 |
| F-5.0 | Execution history screen          | Application must have a separate screen for execution history.                                                                                  |   Must   |              | History of which server instance will be visible depends on F-5.4 | UC-1, UC-8, UC-9 |
| F-5.1 | View execution history            | List of executions will be visible from the execution history screen.                                                                           |   Must   | F-5.4        | History of which server instance will be visible depends on F-5.4 | UC-1, UC-8, UC-9 |
| F-5.2 | Delete items from history         | User must be able to delete specific item from execution history. Confirmation will be required.                                                |   Must   | F-5.1        |                                                                    | UC-9             |
| F-5.3 | Re-execute pipelines from history | There must be an option to re-execute pipeline from the execution history screen. This action will also make a new record in execution history. |   Must   | F-5.1        |                                                                    | UC-8             |
| F-5.4 | Source of visible history         | User must be able to choose, if he wants to see history of all instances, or just a specific one.                                               |   Must   | F-5.0        |                                                                    | UC-1, UC-8, UC-9 |
| F-6.1 | Night mode                        | Application can have a night mode, accessible from settings.                                                                                    |   Could  | F-1.0        |                                                                    |                  |

### Nonfunctional

1. Native android application

## Use Cases

### Diagram

![use case diagram](https://raw.githubusercontent.com/Palda97/LPDocumentation/master/pics/bc-uc.png)

### Description

User: User of ETL LinkedPipes with an android phone.

| Code | Shortcut                                                       | Description                                                                                                                                                                                                                                                 | Scenario                                                                                                                                                                                                                                                                                                                                                                                |
|------|----------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UC-1 | UC-1: Get overview of executions in particular server instance | Enables user to see what pipelines were executed in chronological order from specific server instance.                                                                                                                                                      | User opens execution history screen (F-5.0, F-5.1) and selects what server instance executions he wants to see (F-5.4).                                                                                                                                                                                                                                                                 |
| UC-2 | UC-2: Execute specific pipeline                                | Enables user to execute pipeline of his choice from specific server instance.                                                                                                                                                                               | User opens pipeline list screen (F-4.0, F-4.1). He then finds the desired pipeline and execute it (F-4.6). Optional: After opening the pipeline screen, user can filter pipelines by the server instance (F-4.7).                                                                                                                                                                       |
| UC-3 | UC-3: Change IP address or name of registered server instance  | Enables user to change IP address of already registered server instance due to type error or network changes.                                                                                                                                               | User opens settings screen (F-1.0), selects the desired server instance (F-2.1) for edit (F-2.3). He then changes the IP address and saves changes.                                                                                                                                                                                                                                     |
| UC-4 | UC-4: Register server instance                                 | Enables user to register server instance in the application. Application will check, if IP is already registered or if name of the new server instance is already in use, in order to warn user about duplication or name collision that could cause chaos. | User opens settings screen (F-1.0), tells the application he wants to register new server instance and proceeds to enter server instance info (F-2.2) and saves it.                                                                                                                                                                                                                     |
| UC-5 | UC-5: Delete registered server instance                        | Enables user to remove registered server instance                                                                                                                                                                                                           | User opens settings screen (F-1.0), views registered server instances (F-2.1) and tells the application what server instance he wants to delete, followed by confirmation (F-2.4)                                                                                                                                                                                                       |
| UC-6 | UC-6: Create pipeline                                          | Enables user to create and save pipeline to desired server instance.                                                                                                                                                                                       | User opens pipeline list screen (F-4.0). Then he will filter pipelines by the desired server instance (F-4.7) and tells the application he wants to create a new pipeline (F-4.3). The screen for editing pipeline will be launched (F-4.2) and the user can design a new pipeline here. When he is finished, he will save the pipeline.                                                |
| UC-7 | UC-7: Edit pipeline                                            | Enables user to edit pipeline from registered server instance                                                                                                                                                                                               | User opens pipeline list screen (F-4.0, F-4.1). He then finds the desired pipeline and tells the application he wants to edit it (F-4.4). The screen for editing pipeline will be launched (F-4.2) with the selected pipeline loaded so the user can make and save changes here. Optional: After opening the pipeline screen, user can filter pipelines by the server instance (F-4.7). |
| UC-8 | UC-8: Re-execute pipeline from history                         | Enables user to quickly execute pipeline he stumbles upon while viewing history                                                                                                                                                                             | User opens execution history screen (F-5.0, F-5.1). He finds a pipeline and realize he wants to execute it now, so he tells that to the application (F-5.3). Optional: After opening the execution history screen, he can selects what server instance executions he wants to see (F-5.4).                                                                                              |
| UC-9 | UC-9: Delete history                                           | Enables user to delete items from history                                                                                                                                                                                                                   | User opens execution history screen (F-5.0, F-5.1). He finds a record and realize he for some reason doesn't want this record in history anymore, so he tells that to the application (F-5.2). Optional: After opening the execution history screen, he can selects what server instance executions he wants to see (F-5.4).                                                            |

