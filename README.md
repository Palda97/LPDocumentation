# Analysis

## Terms

- Managing: Adding, editing, deleting
- Pipeline: A set of tasks defined in ETL LinkedPipes server instance
- Server instance: [ETL LinkedPipes](https://etl.linkedpipes.com/) server instance
- User: Common user of the android application
- History: History of pipeline executions

## Requirements

### High level functional

1. Pipeline managing
2. Executing pipelines
3. Pipeline history
4. Managing server instances

### Functional

| Code  | Shortcut                          | Requirement                                                                                                                                     | Priority | Dependency   | Notes                                                             | Scenarios                      |
|-------|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|:--------:|--------------|-------------------------------------------------------------------|--------------------------------|
| F&#x2011;1.0 | Settings screen                   | Application must have a separate screen for settings.                                                                                           |   Must   |              |                                                                   | SC&#x2011;3.1, SC&#x2011;3.2, SC&#x2011;3.3         |
| F&#x2011;2.1 | View server instance              | List of server instances will be visible from settings screen.                                                                                  |   Must   | F&#x2011;1.0        |                                                                   | SC&#x2011;3.1, SC&#x2011;3.3                 |
| F&#x2011;2.2 | Add server instance               | User must be able to add server instance.                                                                                                       |   Must   | F&#x2011;1.0        |                                                                   | SC&#x2011;3.2                         |
| F&#x2011;2.3 | Edit server instance              | User must be able to edit already added server instance.                                                                                        |   Must   | F&#x2011;2.1        |                                                                   | SC&#x2011;3.1                         |
| F&#x2011;2.4 | Delete server instance            | User must be able to delete already added server instance. Confirmation will be required.                                                       |   Must   | F&#x2011;2.1        |                                                                   | SC&#x2011;3.3                         |
| F&#x2011;3.1 | Notification after finish         | Application shell create notification on pipeline finish.                                                                                       |   Could  |              |                                                                   |                                |
| F&#x2011;3.2 | Notifications in settings         | There will be switch in settings to toggle notifications.                                                                                       |   Could  | F&#x2011;1.0, F&#x2011;3.1 |                                                                   |                                |
| F&#x2011;4.0 | Pipeline list screen              | Application must have a separate screen for working with pipelines.                                                                             |   Must   |              | Which pipelines will be visible there depends on F&#x2011;4.7.           | SC&#x2011;2.1, SC&#x2011;4.1, SC&#x2011;4.2, SC&#x2011;4.3 |
| F&#x2011;4.1 | View pipelines                    | List of pipelines will be visible from pipeline list screen.                                                                                    |   Must   | F&#x2011;4.7        | Which pipelines will be visible depends on F&#x2011;4.7.                 | SC&#x2011;2.1, SC&#x2011;4.2, SC&#x2011;4.3         |
| F&#x2011;4.2 | Edit pipeline screen              | Application must have a screen for editing pipelines.                                                                                           |   Must   |              |                                                                   | SC&#x2011;4.1, SC&#x2011;4.2                 |
| F&#x2011;4.3 | Create pipelines                  | User must be able to start an empty edit pipeline screen (F&#x2011;4.2) from the pipeline list screen (F&#x2011;4.0).                                         |   Must   | F&#x2011;4.0, F&#x2011;4.2 |                                                                   | SC&#x2011;4.1                         |
| F&#x2011;4.4 | Edit existing pipelines           | User must be able to edit selected pipeline by starting the edit pipeline screen (F&#x2011;4.2) with the selected activity loaded.                     |   Must   | F&#x2011;4.1, F&#x2011;4.2 |                                                                   | SC&#x2011;4.2                         |
| F&#x2011;4.5 | Delete pipelines                  | User must be able to delete a pipeline of his choice.                                                                                           |   Must   | F&#x2011;4.1        |                                                                   | SC&#x2011;4.3                         |
| F&#x2011;4.6 | Execute pipeline                  | User must be able to execute selected pipeline.                                                                                                 |   Must   | F&#x2011;4.1        |                                                                   | SC&#x2011;2.1                         |
| F&#x2011;4.7 | Source for visible pipelines      | User must be able to choose, if he wants to see pipelines from all instances, or just a specific one.                                           |   Must   | F&#x2011;4.0        |                                                                   | SC&#x2011;2.1, SC&#x2011;4.2, SC&#x2011;4.3         |
| F&#x2011;5.0 | Execution history screen          | Application must have a separate screen for execution history.                                                                                  |   Must   |              | History of which server instance will be visible depends on F&#x2011;5.4 | SC&#x2011;1.1, SC&#x2011;5.1, SC&#x2011;6.1         |
| F&#x2011;5.1 | View execution history            | List of executions will be visible from the execution history screen.                                                                           |   Must   | F&#x2011;5.4        | History of which server instance will be visible depends on F&#x2011;5.4 | SC&#x2011;1.1, SC&#x2011;5.1, SC&#x2011;6.1         |
| F&#x2011;5.2 | Delete items from history         | User must be able to delete specific item from execution history. Confirmation will be required.                                                |   Must   | F&#x2011;5.1        |                                                                   | SC&#x2011;6.1                         |
| F&#x2011;5.3 | Re-execute pipelines from history | There must be an option to re-execute pipeline from the execution history screen. This action will also make a new record in execution history. |   Must   | F&#x2011;5.1        |                                                                   | SC&#x2011;5.1                         |
| F&#x2011;5.4 | Source of visible history         | User must be able to choose, if he wants to see history of all instances, or just a specific one.                                               |   Must   | F&#x2011;5.0        |                                                                   | SC&#x2011;1.1, SC&#x2011;5.1, SC&#x2011;6.1         |
| F&#x2011;6.1 | Night mode                        | User can have an option in settings to use light or dark theme, or use system default theme (Android 10 and newer).                             |   Could  | F&#x2011;1.0        |                                                                   |                                |

## Use Cases

### Diagram

![use case diagram](https://raw.githubusercontent.com/Palda97/LPDocumentation/master/pics/bc-uc.png)

### Description

User: User of ETL LinkedPipes with an android phone.

| Code | Shortcut                                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                        |
|------|----------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UC&#x2011;1 | UC&#x2011;1: Get overview of executions in particular server instance | Enables user to see what pipelines were executed in chronological order from specific server instance.                                                                                                                                                                                                                                                                                                                             |
| UC&#x2011;2 | UC&#x2011;2: Execute specific pipeline                                | Enables user to execute pipeline of his choice from specific server instance.                                                                                                                                                                                                                                                                                                                                                      |
| UC&#x2011;3 | UC&#x2011;3: Manage registered server instances                       | Enables user to register server instance in the application. Application will check, if IP is already registered or if name of the new server instance is already in use, in order to warn user about duplication or name collision that could cause chaos. It also enables user to change IP address of already registered server instance due to type error or network changes. User can also remove registered server instance. |
| UC&#x2011;4 | UC&#x2011;4: Manage pipelines                                         | Enables user to manage pipelines in desired server instance.                                                                                                                                                                                                                                                                                                                                                                       |
| UC&#x2011;5 | UC&#x2011;5: Re-execute pipeline from history                         | Enables user to quickly execute pipeline he stumbles upon while viewing history.                                                                                                                                                                                                                                                                                                                                                   |
| UC&#x2011;6 | UC&#x2011;6: Delete history                                           | Enables user to delete items from history.                                                                                                                                                                                                                                                                                                                                                                                         |
| UC&#x2011;7 | UC&#x2011;7: View execution history                                   | Enables user to view execution history of all the instances at the same time.                                                                                                                                                                                                                                                                                                                                                      |
| UC&#x2011;8 | UC&#x2011;8: View pipelines                                           | Enables user to view pipelines from all the server instances.                                                                                                                                                                                                                                                                                                                                                                      |

### Scenarios

| Code   | Shortcut                                                 | Scenario                                                                                                                                                                                                                                                                                                                                                                                |
|--------|----------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SC&#x2011;1.1 | Get overview of executions in particular server instance | User opens execution history screen (F&#x2011;5.0, F&#x2011;5.1) and selects what server instance executions he wants to see (F&#x2011;5.4).                                                                                                                                                                                                                                                                 |
| SC&#x2011;2.1 | Execute specific pipeline                                | User opens pipeline list screen (F&#x2011;4.0, F&#x2011;4.1). He then finds the desired pipeline and execute it (F&#x2011;4.6). Optional: After opening the pipeline screen, user can filter pipelines by the server instance (F&#x2011;4.7).                                                                                                                                                                       |
| SC&#x2011;3.1 | Change IP address or name of registered server instance  | User opens settings screen (F&#x2011;1.0), selects the desired server instance (F&#x2011;2.1) for edit (F&#x2011;2.3). He then changes the IP address and saves changes.                                                                                                                                                                                                                                     |
| SC&#x2011;3.2 | Register server instance                                 | User opens settings screen (F&#x2011;1.0), tells the application he wants to register new server instance and proceeds to enter server instance info (F&#x2011;2.2) and saves it.                                                                                                                                                                                                                     |
| SC&#x2011;3.3 | Delete registered server instance                        | User opens settings screen (F&#x2011;1.0), views registered server instances (F&#x2011;2.1) and tells the application what server instance he wants to delete, followed by confirmation (F&#x2011;2.4).                                                                                                                                                                                                      |
| SC&#x2011;4.1 | Create pipeline                                          | User opens pipeline list screen (F&#x2011;4.0). Then he tells the application he wants to create a new pipeline (F&#x2011;4.3). He chooses a server instance to which the pipeline will be saved and the screen for editing pipeline will be launched (F&#x2011;4.2) and the user can design a new pipeline here. When he is finished, he will save the pipeline.                                            |
| SC&#x2011;4.2 | Edit pipeline                                            | User opens pipeline list screen (F&#x2011;4.0, F&#x2011;4.1). He then finds the desired pipeline and tells the application he wants to edit it (F&#x2011;4.4). The screen for editing pipeline will be launched (F&#x2011;4.2) with the selected pipeline loaded so the user can make and save changes here. Optional: After opening the pipeline screen, user can filter pipelines by the server instance (F&#x2011;4.7). |
| SC&#x2011;4.3 | Delete pipeline                                          | User opens pipeline list screen (F&#x2011;4.0, F&#x2011;4.1). He then finds the desired pipeline and tells the application he wants to delete it (F&#x2011;4.5). This request is followed by confirmation. Optional: After opening the pipeline screen, user can filter pipelines by the server instance (F&#x2011;4.7).                                                                                            |
| SC&#x2011;5.1 | Re-execute pipeline from history                         | User opens execution history screen (F&#x2011;5.0, F&#x2011;5.1). He finds a pipeline and realize he wants to execute it now, so he tells that to the application (F&#x2011;5.3). Optional: After opening the execution history screen, he can selects what server instance executions he wants to see (F&#x2011;5.4).                                                                                              |
| SC&#x2011;6.1 | Delete history                                           | User opens execution history screen (F&#x2011;5.0, F&#x2011;5.1). He finds a record and realize he for some reason doesn't want this record in history anymore, so he tells that to the application (F&#x2011;5.2). Optional: After opening the execution history screen, he can selects what server instance executions he wants to see (F&#x2011;5.4).                                                            |


